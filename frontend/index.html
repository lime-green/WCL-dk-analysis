<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/eye-favicon.png" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DK Analyze</title>
  </head>
  <body onload="adjust_iframe_height()">
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      function adjust_iframe_height() {
        const height = document.body.offsetHeight;
        parent.postMessage(height, "*");
      }

      const config = { attributes: false, childList: true, subtree: true };
      new MutationObserver(() => {
        adjust_iframe_height();
        // if it loads too fast, the event will get ignored
        setTimeout(adjust_iframe_height, 100)
      }).observe(document.body, config);
      addEventListener("load", () => adjust_iframe_height);
      addEventListener("resize", adjust_iframe_height);
    </script>
  </body>
</html>
